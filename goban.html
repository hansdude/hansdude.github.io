<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>GoBan</title>
  <style>
    dl {
      margin: 0;
      padding: 0;
    }
    dt, dd {
      margin: 0;
      padding: 0;
      float: left;
    }
    dt {
      width: 3em;
      clear: left;
    }
    dd {
      width: 2em;
      text-align: right;
    }
    .title {
      font-weight: bold;
      line-height: 2em;
    }
  </style>
</head>
<body>
  <canvas id="goban" width="1000" height="1000"></canvas>

  <div>
    <span class="title">Captures</span>
    <dl id="captures">
      <dt>White</dt>
      <dd id="white-captures"></dd>
      <dt>Black</dt>
      <dd id="black-captures"></dd>
    </dl>
  </div>

  <script src="coordinates.js"></script>

  <script>
(() => {
  const canvas = document.getElementById("goban");
  const settings = {
    lines: 19,
    moveListener: ({x, y}) => console.log("x: ", x, ", y: ", y),
    canvas,
  };
  const goban = new Goban.Canvas(settings);

  // Here's where we actually draw the stones.
  let stones = [];
  for (let x = 10; x < settings.lines - 4; x++) {
    for (let y = 10; y < settings.lines - 4; y++) {
      stones.push({
        point: {x, y},
        player: (x + y) % 2 ? Goban.Player.White : Goban.Player.Black,
      });
    }
  }
  goban.setStones(stones);

  //TODO: move this
  const setCaptures = (color, count) => {
    document.getElementById(color + "-captures").innerText = count;
  };
  setCaptures("white", 12);
  setCaptures("black", 0);
})();
  </script>
</body>
</html>
