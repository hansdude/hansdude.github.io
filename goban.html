<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>GoBan</title>
  <style>
    dl {
      margin: 0;
      padding: 0;
    }
    dt, dd {
      margin: 0;
      padding: 0;
      float: left;
    }
    dt {
      width: 3em;
      clear: left;
    }
    dd {
      width: 2em;
      text-align: right;
    }
    .title {
      font-weight: bold;
      line-height: 2em;
    }
  </style>
</head>
<body>
  <canvas id="goban" width="1000" height="1000"></canvas>

  <div>
    <span class="title">Captures</span>
    <dl id="captures">
      <dt>White</dt>
      <dd id="white-captures"></dd>
      <dt>Black</dt>
      <dd id="black-captures"></dd>
    </dl>
  </div>

  <script src="coordinates.js"></script>

  <script>
(() => {
  const canvas = document.getElementById("goban");
  const context = canvas.getContext("2d");
  const coordinates = new Goban.Coordinates(
      19 /* lines */,
      1000 /* size */,
      5 /* startSize */);
  const boardPainter = new Goban.BoardPainter(coordinates, context);
  const input = new Goban.BoardInput(coordinates, canvas);

  // Here's where we actually draw the board state.
  let stones = [];
  for (let x = 10; x < coordinates.lines - 4; x++) {
    for (let y = 10; y < coordinates.lines - 4; y++) {
      stones.push({
        point: {x, y},
        player: (x + y) % 2 ? Goban.Player.White : Goban.Player.Black,
      });
    }
  }
  boardPainter.drawBoard(stones);

  //TODO: move this
  const setCaptures = (color, count) => {
    document.getElementById(color + "-captures").innerText = count;
  };
  setCaptures("white", 12);
  setCaptures("black", 0);
})();
  </script>
</body>
</html>
